% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/run_length.R
\name{update_run_length}
\alias{update_run_length}
\title{One-step run-length update given log-likelihood and hazard}
\usage{
update_run_length(
  log_R_prev,
  loglik,
  loglik_prior,
  hazard,
  t,
  max_run_length,
  hazard_args = list()
)
}
\arguments{
\item{log_R_prev}{Log posterior for run-lengths r=0..Rmax at time t-1.}

\item{loglik}{Numeric vector of length \code{length(log_R_prev)} giving
log predictive densities for the new observation y_t under each run-length.}

\item{loglik_prior}{Single number: log predictive density under the prior/reset
statistics used for changepoints.}

\item{hazard}{Hazard specification (function or scalar in \verb{[0,1]}).}

\item{t}{Integer time index after the update (i.e., current time).}

\item{max_run_length}{Truncation level for run-length support.}

\item{hazard_args}{Named list forwarded to hazard if hazard is a function.}
}
\value{
A list with:
\itemize{
\item \code{log_R}: normalized log run-length posterior at time t
\item \code{R}: same on probability scale
}
}
\description{
Performs BOCPD run-length recursion update \emph{only}:
\itemize{
\item growth: r -> r+1 with probability (1-h)
\item changepoint: r -> 0 with probability h
}
}
\details{
NOTE: user supplies likelihoods.
}
\keyword{internal}
